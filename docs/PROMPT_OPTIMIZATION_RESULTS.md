# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ü—Ä–æ–º–ø—Ç | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠–∫–æ–Ω–æ–º–∏—è | –ú–µ—Ç–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
|--------|------|-------|----------|-------------------|
| **classifier** | 955 | 620 | **-35%** | –£–±—Ä–∞–Ω—ã –ø–æ–≤—Ç–æ—Ä—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω —Å–ø–∏—Å–æ–∫ |
| **suggest_structure** | 627 | 440 | **-30%** | –°–æ–∫—Ä–∞—â–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —É–±—Ä–∞–Ω—ã –ø—Ä–∏–º–µ—Ä—ã |
| **sources** | 2883 | 1730 | **-40%** | –£–±—Ä–∞–Ω—ã –¥–ª–∏–Ω–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è, few-shot –ø—Ä–∏–º–µ—Ä—ã |
| **sources_qc** | 1798 | 1170 | **-35%** | –°–æ–∫—Ä–∞—â–µ–Ω—ã –∫—Ä–∏—Ç–µ—Ä–∏–∏, —É–±—Ä–∞–Ω—ã –ø–æ–≤—Ç–æ—Ä—ã |
| **content** | 1186 | 770 | **-35%** | –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —É–±—Ä–∞–Ω—ã –¥–µ—Ç–∞–ª–∏ |
| **generation** | 808 | 565 | **-30%** | –°–æ–∫—Ä–∞—â–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–ª–∞–π–¥–æ–≤ |
| **task_solve** | 894 | 600 | **-33%** | –£–ø—Ä–æ—â–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞, —É–±—Ä–∞–Ω—ã –ø–æ–≤—Ç–æ—Ä—ã |
| **formatting** | 374 | 260 | **-30%** | –°–ø–∏—Å–æ–∫ –≤–º–µ—Å—Ç–æ –∞–±–∑–∞—Ü–µ–≤ |
| **qc** | 325 | 230 | **-30%** | –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ |
| **humanize_0** | 316 | 316 | **0%** | –£–∂–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π |
| **humanize_25** | 108 | 108 | **0%** | –£–∂–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π |
| **humanize_50** | 157 | 157 | **0%** | –£–∂–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π |
| **humanize_75** | 254 | 254 | **0%** | –£–∂–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π |
| **humanize_100** | 532 | 532 | **0%** | –£–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω —Ä–∞–Ω–µ–µ |

## üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç

### –†–∞—Å—á—ë—Ç —ç–∫–æ–Ω–æ–º–∏–∏:

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –°—Ä–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å: ~15,000 —Ç–æ–∫–µ–Ω–æ–≤
- 100 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π/–¥–µ–Ω—å √ó 15,000 —Ç–æ–∫–µ–Ω–æ–≤ = 1,500,000 —Ç–æ–∫–µ–Ω–æ–≤/–¥–µ–Ω—å
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$200/–¥–µ–Ω—å = $6,000/–º–µ—Å—è—Ü

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –°—Ä–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å: ~9,000 —Ç–æ–∫–µ–Ω–æ–≤ (-40%)
- 100 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π/–¥–µ–Ω—å √ó 9,000 —Ç–æ–∫–µ–Ω–æ–≤ = 900,000 —Ç–æ–∫–µ–Ω–æ–≤/–¥–µ–Ω—å
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$120/–¥–µ–Ω—å = $3,600/–º–µ—Å—è—Ü

**üíµ –≠–∫–æ–Ω–æ–º–∏—è: $2,400/–º–µ—Å—è—Ü ($80/–¥–µ–Ω—å)**

### –° —É—á—ë—Ç–æ–º Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:

- Redis –∫—ç—à: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ 20-30% —ç–∫–æ–Ω–æ–º–∏–∏ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- **–ò—Ç–æ–≥–æ–≤–∞—è —ç–∫–æ–Ω–æ–º–∏—è: $3,000-3,500/–º–µ—Å—è—Ü**

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ë—ã–ª–æ:**
```
–¢—ã –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–∞–±–æ—Ç—ã. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏—á–Ω–æ–π –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π. –ö–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫. –†–∞–∑–¥–µ–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π...
```

**–°—Ç–∞–ª–æ:**
```
–°–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è {work_type} –Ω–∞ —Ç–µ–º—É: {topic}

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- {num_sections} —Ä–∞–∑–¥–µ–ª–æ–≤
- –õ–æ–≥–∏—á–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å
```

**–≠–∫–æ–Ω–æ–º–∏—è: 40%**

### 2. Few-shot –≤–º–µ—Å—Ç–æ long-shot
**–ë—ã–ª–æ:**
```
–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –∞–≤—Ç–æ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –≥–æ–¥. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∫–Ω–∏–≥–∏ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: –ò–≤–∞–Ω–æ–≤ –ò.–ò., –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏, –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –≥–æ–¥. –î–ª—è —Å—Ç–∞—Ç—å–∏: –∞–≤—Ç–æ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏, –∂—É—Ä–Ω–∞–ª, –Ω–æ–º–µ—Ä, –≥–æ–¥...
```

**–°—Ç–∞–ª–æ:**
```
–ü—Ä–∏–º–µ—Ä—ã:
book: "–ò–≤–∞–Ω–æ–≤ –ò.–ò. –û—Å–Ω–æ–≤—ã —Ñ–∏–∑–∏–∫–∏. –ú.: –ù–∞—É–∫–∞, 2020"
article: "–ü–µ—Ç—Ä–æ–≤ –ü.–ü. –ö–≤–∞–Ω—Ç–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞ // –§–∏–∑–∏–∫–∞. 2021. ‚Ññ3"
```

**–≠–∫–æ–Ω–æ–º–∏—è: 50%**

### 3. –°–ø–∏—Å–∫–∏ –≤–º–µ—Å—Ç–æ –∞–±–∑–∞—Ü–µ–≤
**–ë—ã–ª–æ:**
```
–ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—Å—Ç –Ω–∞ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é –∏ –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é. –¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∏–ª—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä—ã. –í–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–º—ã—Å–ª –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ–∫—Å—Ç–∞...
```

**–°—Ç–∞–ª–æ:**
```
–ò—Å–ø—Ä–∞–≤—å:
- –û–ø–µ—á–∞—Ç–∫–∏
- –ü—É–Ω–∫—Ç—É–∞—Ü–∏—é
- –ü–æ–≤—Ç–æ—Ä—ã

–°–æ—Ö—Ä–∞–Ω–∏:
- –°–º—ã—Å–ª
- –°—Ç—Ä—É–∫—Ç—É—Ä—É
```

**–≠–∫–æ–Ω–æ–º–∏—è: 35%**

### 4. –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–æ–≤
**–ë—ã–ª–æ:**
```
–¢–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–º. –ò—Å–ø–æ–ª—å–∑—É–π –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å. –í–∞–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ –Ω–æ—Ä–º—ã...
```

**–°—Ç–∞–ª–æ:**
```
–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å
```

**–≠–∫–æ–Ω–æ–º–∏—è: 70%**

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ –í—Å–µ unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (108/108)
- ‚úÖ JSON –ø—Ä–æ–º–ø—Ç—ã –≤–∞–ª–∏–¥–Ω—ã
- ‚úÖ –ü—Ä–æ–º–ø—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 5-10 —Ä–∞–±–æ—Ç —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏
2. –°—Ä–∞–≤–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏
3. –°–æ–±—Ä–∞—Ç—å feedback –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

### A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```python
# –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å—Ç–∞—Ä—ã–µ –∏ –Ω–æ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã
if random.random() < 0.5:
    prompt = OLD_PROMPTS[key]
else:
    prompt = NEW_PROMPTS[key]
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –î–æ–±–∞–≤–∏—Ç—å –≤ Prometheus:
```python
prompt_tokens_used = Counter(
    'prompt_tokens_used_total',
    'Total prompt tokens used',
    ['prompt_type', 'version']
)

prompt_quality_score = Gauge(
    'prompt_quality_score',
    'User satisfaction with generated content',
    ['prompt_version']
)
```

### –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å
- –ö–∞—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (user feedback)
- –ß–∞—Å—Ç–æ—Ç–∞ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## üîÑ –û—Ç–∫–∞—Ç (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)

–ë—ç–∫–∞–ø –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤:
```
apps/api/data/prompts.json.backup
```

–î–ª—è –æ—Ç–∫–∞—Ç–∞:
```bash
cp apps/api/data/prompts.json.backup apps/api/data/prompts.json
sudo systemctl restart zachot-api
```

## üìù –í—ã–≤–æ–¥—ã

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞**: —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ 30-40% –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞
2. **–≠–∫–æ–Ω–æ–º–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞**: $2,400-3,500/–º–µ—Å—è—Ü
3. **–¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç**: 108/108 unit —Ç–µ—Å—Ç–æ–≤ ‚úÖ
4. **–ì–æ—Ç–æ–≤–æ –∫ production**: –º–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å

## üéì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ** –ø–µ—Ä–≤—ã–µ 1-2 –Ω–µ–¥–µ–ª–∏
2. **–°–æ–±–∏—Ä–∞—Ç—å feedback** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é** –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è** –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π

---

**–î–∞—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 2026-01-16  
**–í–µ—Ä—Å–∏—è:** 2.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production
